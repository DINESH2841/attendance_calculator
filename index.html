<html><head><base href="https://websim.example.com/enhanced-github-attendance-tracker/">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Enhanced Attendance Tracker</title>
<style>
    :root {
        --primary-color: #2ea44f;
        --secondary-color: #0366d6;
        --background-color: #f6f8fa;
        --text-color: #24292e;
        --chart-color: #28a745;
    }
    body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
        background-color: var(--background-color);
        color: var(--text-color);
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
        margin: 0;
        line-height: 1.6;
    }
    .container {
        background-color: white;
        padding: 2rem;
        border-radius: 6px;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);
        text-align: center;
        max-width: 500px;
        width: 90%;
    }
    h1 {
        color: var(--secondary-color);
        margin-bottom: 1.5rem;
        font-size: 2rem;
    }
    .input-group {
        margin-bottom: 1.5rem;
        text-align: left;
    }
    label {
        display: block;
        margin-bottom: 0.5rem;
        font-weight: 600;
    }
    input {
        width: 100%;
        padding: 0.75rem;
        border: 1px solid #e1e4e8;
        border-radius: 6px;
        font-size: 1rem;
        transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
    }
    input:focus {
        outline: none;
        border-color: var(--secondary-color);
        box-shadow: 0 0 0 3px rgba(3, 102, 214, 0.3);
    }
    button {
        background-color: var(--primary-color);
        color: white;
        border: none;
        padding: 0.75rem 1.5rem;
        margin-top: 1rem;
        border-radius: 6px;
        cursor: pointer;
        font-size: 1rem;
        font-weight: 600;
        transition: background-color 0.15s ease-in-out;
    }
    button:hover {
        background-color: #2c974b;
    }
    #result {
        margin-top: 1.5rem;
        font-weight: 600;
        background-color: #f1f8ff;
        border: 1px solid #c8e1ff;
        border-radius: 6px;
        padding: 1rem;
    }
    .chart-container {
        position: relative;
        margin: auto;
        height: 200px;
        width: 200px;
        margin-top: 2rem;
    }
    .pie-chart {
        width: 100%;
        height: 100%;
        border-radius: 50%;
        background: conic-gradient(var(--chart-color) var(--percentage), #e1e4e8 0);
        transition: background 0.3s ease-in-out;
    }
    .percentage {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        font-size: 2rem;
        font-weight: bold;
    }
    .loading {
        border: 4px solid #f3f3f3;
        border-top: 4px solid var(--secondary-color);
        border-radius: 50%;
        width: 40px;
        height: 40px;
        animation: spin 1s linear infinite;
        margin: 20px auto;
    }
    @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
    }
</style>
</head>
<body>
<div class="container">
    <h1>Attendance Tracker</h1>
    <div class="input-group">
        <label for="totalClasses">Total number of classes:</label>
        <input type="number" id="totalClasses" min="1" required placeholder="Enter total classes">
    </div>
    <div class="input-group">
        <label for="attendedClasses">Number of classes attended:</label>
        <input type="number" id="attendedClasses" min="0" required placeholder="Enter attended classes">
    </div>
    <button onclick="calculateAttendance()">Calculate Attendance</button>
    <div id="result"></div>
    <div class="chart-container">
        <div class="pie-chart">
            <div class="percentage" id="percentage">0%</div>
        </div>
    </div>
</div>

<script>
function calculateAttendance() {
    const totalClasses = parseInt(document.getElementById('totalClasses').value);
    const attendedClasses = parseInt(document.getElementById('attendedClasses').value);
    const resultDiv = document.getElementById('result');
    const pieChart = document.querySelector('.pie-chart');
    const percentageDiv = document.getElementById('percentage');

    if (isNaN(totalClasses) || isNaN(attendedClasses) || totalClasses <= 0 || attendedClasses < 0 || attendedClasses > totalClasses) {
        resultDiv.innerHTML = "Please enter valid numbers.";
        return;
    }

    resultDiv.innerHTML = '<div class="loading"></div>';

    setTimeout(() => {
        const currentPercentage = (attendedClasses / totalClasses) * 100;
        const requiredPercentage = 80;

        pieChart.style.setProperty('--percentage', currentPercentage + '%');
        percentageDiv.textContent = currentPercentage.toFixed(2) + '%';

        if (currentPercentage >= requiredPercentage) {
            const allowedAbsences = Math.floor(totalClasses * 0.2);
            const remainingAbsences = allowedAbsences - (totalClasses - attendedClasses);
            resultDiv.innerHTML = `
                <p>ðŸŽ‰ Congratulations! Your current attendance is <strong>${currentPercentage.toFixed(2)}%</strong>.</p>
                <p>You can afford to miss up to <strong>${remainingAbsences}</strong> more classes while still maintaining at least 80% attendance.</p>
            `;
        } else {
            const classesNeeded = Math.ceil((requiredPercentage / 100 * totalClasses) - attendedClasses);
            resultDiv.innerHTML = `
                <p>Your current attendance is <strong>${currentPercentage.toFixed(2)}%</strong>.</p>
                <p>To reach the 80% attendance target, you need to attend <strong>${classesNeeded}</strong> more classes.</p>
            `;
        }

        // Animate the pie chart
        pieChart.style.animation = 'none';
        pieChart.offsetHeight; // Trigger reflow
        pieChart.style.animation = 'fillUp 1s ease-out forwards';
    }, 1000);
}

</script>
</body>
</html>
